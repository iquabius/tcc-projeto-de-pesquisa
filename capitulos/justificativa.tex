\section{Justificativa}\label{ljustificativa}

% - websockets, push notifications, AppCache, service workers, web workers
%   - http://bit.ly/serviceworkers_webworkers_websockets
Interatividade em páginas \textit{web} se deu com a
introdução do \textit{JavaScript} em navegadores.
O advento de outras tecnologias tem tornado as interfaces
\textit{web} cada vez mais interativas
(e.g. Ajax e \textit{Web Sockets}\footnote{
  Tecnologia recentemente definida pela especificação do HTML5.
}),
dando origem a uma nova gama de aplicações \textit{web}
com interfaces ricas que oferecem ao usuário uma experiência
similar as aplicações \textit{mobile} ou \textit{desktop}.
Assim como em qualquer interface gráfica, interfaces \textit{web}
precisam reagir a vários eventos imprevisíveis do ambiente
externo, provindos tanto do usuário (e.g. \textit{clicks}
do \textit{mouse}, pressionamento de teclas, etc)
quanto de outro software (e.g. mensagens do servidor).

%  in a timely fashion = em tempo hábil
Atualmente o modelo de programação mais empregado na
coordenação desses eventos em sistemas interativos
--- também chamados de sistemas reativos --- é o
\textit{event-driven programming}\footnote{
  Programação orientada a eventos.
},
que consiste de um \textit{event-loop} que espera por
eventos de forma contínua, e quando um evento é detectado,
uma função de \textit{callback} apropriada é chamada para
tratá-lo.
Essa abordagem configura uma das formas mais complexas de se
programar sistemas interativos \cite{
  edwards2009coherent,
  maier2010deprecating,
  reppy1992higher},
devido ao fato de que aplicações desenvolvidas utilizando
esse mecanismo apresentam um fluxo de controle desestruturado
% implícito (Flapjax)
e imprevisível, além de depender crucialmente de
\textit{efeitos colaterais\footnotemark} pra
\footnotetext{
  Do inglês \textit{side-effects:} característica muito comum
  em linguagens imperativas, onde uma função ou expressão pode
  modificar algum estado externo (e.g. alterar uma variável
  global, produzir uma saída na tela/terminal, escrever no
  sistema de arquivos, etc). Em programação funcional o uso de
  efeitos colaterais é desencorajado, e deve ser usado apenas
  quando absolutamente necessário -- e.g. manipular uma variável
  global não é absolutamente necessário, mas imprimir uma mensagem
  na tela pode ser.
}
gerenciar seu estado \cite{
  meyerovich2009flapjax,
  muller2015interactive,
  muller2015practical}.
Na literatura, essa abordagem é descrita como \textit{"Callback Hell"},
devido a forma desconcertante com que o fluxo de controle coordena
mudanças no estado do programa \cite[p.~2]{edwards2009coherent}.
% bainomugisha2013survey, muller2015practical
% inversão de controle

Vale ressaltar que a preocupação desnecessária com o
fluxo de controle e o mau gerenciamento de estado são
consideradas as principais causas de complexidade em
sistemas contemporâneos, pois afetam o entendimento das
várias partes do código por parte do desenvolvedor,
além de dificultar a realização de testes de software
\cite{Moseley06outof}.
Uma análise das aplicações \textit{desktop} da Adobe,
relatada em 2006, indicou que o código que coordena a
lógica de manuseio de eventos, \textit{widgets}, e outros
componentes da interface gráfica, representa cerca de
um terço do código, e mais da metade dos \textit{bugs}
reportados \cite{jarvi2008property}.
Sendo o alto grau de interatividade parte inerente de uma
aplicação com interface gráficas, seu desenvolvimento e
manutenção se tornam um desafio.

%   - observer pattern

% declarative vs imperative
%   - specification (what) vs. execution (how)
%     - Declarative Interaction Design for Data Visualization
%   - modeling vs presentation
%     - Elm
%     - FR Animation
%
% FRP
%  - Outros tipos de software podem ser considerados reativos, como um sistema
%    embarcado que reage a sinais de sensores, ou um sistema distribuído que
%    precisa reagir a mensagens na rede.

% Perspectivas/Paradigmas diferentes tem sido propostas para
% abordar o desenvolvimento de aplicações interativas.
% Programação Reativa tem sido cada vez mais utilizado para
% estruturar código em sistemas interativos
% --- também chamados de sistemas reativos.
% \textit{Programação Funcional Reativa} oferece uma forma
% declarativa de se estruturar código em sistemas reativos,
% e tem mostrado seu potencial em uma variedade de domínios,
% como robótica, síntese de música, animações,
% \textit{video games}, e interfaces gráficas.
\textit{Programação Funcional Reativa} oferece uma forma
declarativa de se estruturar código em sistemas reativos,
e tem mostrado seu potencial na implementação de
interfaces gráficas e em uma variedade de outros domínios,
como robótica, síntese de música, animações e
\textit{video games}. Esses domínios são considerados
reativos porque precisam reagir a vários tipos de
eventos externos provindos de \textit{mouses}, teclados,
acelerômetros, etc.

Um sistema \textit{FRP} pode ser implementado como uma
linguagem em si, ou como um \textit{framework} para ser
usado em alguma linguagem já existente, fornecendo alguns
tipos de dados que representam eventos como valores de
primeira classe\footnote{
  Significa que um evento pode ser atribuído a uma
  variável, passada pra uma função ou retornado de
  uma função.
},
chamados de \textit{event streams}, permitindo que eventos
possam ser compostos a partir de outros eventos.
Outra característica importante de sistemas \textit{FRP}
é que a atualização desses valores ocorrem de forma
automática (\textit{reatividade}).

% - Documentar o estado da arte em:
%   - técnologias web
%   - programação assíncrona
% "Este trabalho tem por objetivo apresentar os conceitos, objetivos, tecnologias e
% demais questões envolvidas na abordagem de desenvolvimento de aplicações
% Web conhecida como Ajax. E prover uma aplicação Web de
% georeferenciamento do campus da UFSC utilizando a abordagem Ajax."

Este trabalho pretende contextualizar a situação atual
de como interfaces orientadas a eventos são implementadas,
apresentar os conceitos das abordagens alternativas, e
fornecer implementações de alguns componentes comuns em
interfaces gráficas, com a finalidade de testar e comparar
tais abordagens através do uso de algumas ferramentas
(linguagens e/ou \textit{frameworks}). Atenção especial será
dada ao ambiente \textit{web}, ou seja, interfaces de
aplicações utilizadas nos navegadores, e dependendo do
levantamento feito, alguns exemplos poderão ser dados
com alguma ferramenta \textit{FRP} para o ambiente
\textit{mobile} e/ou \textit{desktop}.
