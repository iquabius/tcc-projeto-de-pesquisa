\section{Justificativa}\label{ljustificativa}

% - websockets, push notifications, AppCache, service workers, web workers
%   - http://bit.ly/serviceworkers_webworkers_websockets
Interatividade em páginas web se deu com a
introdução do \emph{JavaScript} nos navegadores,
e o advento de abordagens como o \emph{Ajax}\footnote{
  \emph{Ajax (Asynchronous JavaScript + XML)} é um
  conjunto de técnicas e tecnologias que permitem a
  criação de páginas web dinâmicas onde a troca de
  conteúdo entre cliente e servidor ocorre de forma
  assíncrona, sem a necessidade de recarregar toda
  a página a cada interação \cite{garrett2005ajax}.
}
tem tornado as interfaces web cada vez mais interativas,
dando origem a uma nova gama de aplicações web com interfaces
ricas e responsivas que oferecem ao usuário uma experiência
similar as aplicações \emph{mobile} ou \emph{desktop}.
Assim como em qualquer interface gráfica, interfaces web
precisam reagir a vários eventos imprevisíveis do ambiente
externo, provindos tanto do usuário (e.g. \emph{clicks}
do \emph{mouse}, pressionamento de teclas, etc)
quanto de outro software (e.g. mensagens do servidor).

%  in a timely fashion = em tempo hábil
Atualmente o modelo de \emph{programação orientada a eventos
(event-driven programming)} é o mais empregado na
coordenação desses eventos em sistemas interativos
-- também chamados de sistemas reativos.
Esse modelo consiste de um \emph{laço de eventos (event loop)}
que repetidamente espera por eventos, e quando ocorre um
evento, uma \emph{função de chamada de retorno (callback)}
apropriada é disparada para tratá-lo.
Essa abordagem configura uma das formas mais complexas de se
programar sistemas interativos \cite{
  edwards2009coherent,
  maier2010deprecating,
  reppy1992higher},
devido ao fato de que aplicações desenvolvidas utilizando
esse mecanismo apresentam um fluxo de controle desestruturado
% implícito (Flapjax)
e imprevisível, além de depender crucialmente de
\emph{efeitos colaterais\footnotemark} para
\footnotetext{
  Do inglês \emph{side-effects:} característica muito comum
  em linguagens imperativas, onde uma função ou expressão pode
  modificar algum estado externo (e.g. alterar uma variável
  global, produzir uma saída na tela/terminal, escrever no
  sistema de arquivos, etc). Em programação funcional o uso de
  efeitos colaterais é desencorajado, e deve ser usado apenas
  quando absolutamente necessário -- e.g. manipular uma variável
  global não é absolutamente necessário, mas imprimir uma mensagem
  na tela pode ser.
}
gerenciar seu estado \cite{
  meyerovich2009flapjax,
  muller2015interactive,
  muller2015practical}.
Na literatura, essa abordagem é descrita como \emph{"Callback Hell"},
devido a forma desconcertante com que o fluxo de controle coordena
mudanças no estado do programa \cite[p.~2]{edwards2009coherent}.
% bainomugisha2013survey, muller2015practical
% inversão de controle

Vale ressaltar que a preocupação desnecessária com o
fluxo de controle e o mau gerenciamento de estado são
consideradas as principais causas de complexidade em
sistemas contemporâneos, pois afetam o entendimento das
várias partes do código por parte do programador,
além de dificultar a realização de testes de software
\cite{moseley06out}.
Uma análise das aplicações \emph{desktop} da Adobe,
relatada em 2006, indicou que o código que coordena a
lógica de manuseio de eventos, \emph{widgets}, e outros
componentes da interface gráfica, representa cerca de
um terço de todo o código, e mais da metade dos \emph{bugs}
reportados \cite{jarvi2008property}.
Sendo o alto grau de interatividade parte inerente da
interface gráfica de uma aplicação, levando essa a ser
altamente orientada a eventos, seu desenvolvimento e
manutenção se tornam um desafio.

%   - observer pattern

% declarative vs imperative
%   - specification (what) vs. execution (how)
%     - Declarative Interaction Design for Data Visualization
%   - modeling vs presentation
%     - Elm
%     - FR Animation
%
% FRP
%  - Outros tipos de software podem ser considerados reativos, como um sistema
%    embarcado que reage a sinais de sensores, ou um sistema distribuído que
%    precisa reagir a mensagens na rede.

% Perspectivas/Paradigmas diferentes tem sido propostas para
% abordar o desenvolvimento de aplicações interativas.
% Programação Reativa tem sido cada vez mais utilizado para
% estruturar código em sistemas interativos
% --- também chamados de sistemas reativos.
% \emph{Programação Funcional Reativa} oferece uma forma
% declarativa de se estruturar código em sistemas reativos,
% e tem mostrado seu potencial em uma variedade de domínios,
% como robótica, síntese de música, animações,
% \emph{video games}, e interfaces gráficas.
\emph{Programação Funcional Reativa (FRP)} oferece uma forma
declarativa de se estruturar código em sistemas reativos,
e tem mostrado seu potencial na implementação de
interfaces gráficas e em uma variedade de outros domínios,
como robótica, síntese de música, animações e
\emph{video games}. Esses domínios são considerados
reativos porque precisam reagir a vários tipos de
eventos externos provindos de \emph{mouses}, teclados,
acelerômetros, etc.

Um sistema \emph{FRP} pode ser implementado como uma
linguagem em si, ou como um \emph{framework} para ser
usado em alguma linguagem já existente, fornecendo alguns
tipos de dados que representam eventos como valores de
primeira classe\footnote{
  Significa que um evento pode ser atribuído a uma
  variável, passada para uma função ou retornado de
  uma função.
},
chamados de \emph{event streams}, permitindo que eventos
possam ser compostos a partir de outros eventos.
Outra característica importante de sistemas \emph{FRP}
é que a atualização desses valores ocorrem de forma
automática (\emph{reatividade}).

% - Documentar o estado da arte em:
%   - técnologias web
%   - programação assíncrona
% "Este trabalho tem por objetivo apresentar os conceitos, objetivos, tecnologias e
% demais questões envolvidas na abordagem de desenvolvimento de aplicações
% Web conhecida como Ajax. E prover uma aplicação Web de
% georeferenciamento do campus da UFSC utilizando a abordagem Ajax."

Este trabalho pretende contextualizar a situação atual
de como interfaces orientadas a eventos são implementadas,
apresentar os conceitos das abordagens alternativas, e
fornecer implementações de alguns componentes comuns em
interfaces gráficas, com a finalidade de testar e comparar
tais abordagens através do uso de algumas ferramentas
(linguagens e/ou \emph{frameworks}). Atenção especial será
dada ao ambiente \emph{web}, ou seja, interfaces de
aplicações utilizadas nos navegadores, e dependendo do
levantamento feito, alguns exemplos poderão ser dados
com alguma ferramenta \emph{FRP} para o ambiente
\emph{mobile} e/ou \emph{desktop}.
